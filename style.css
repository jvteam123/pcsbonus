/* Base Styles & Font */
:root {
    --brand-900: #1F1D2B; --brand-800: #252836; --brand-700: #393C49; --brand-600: #4F5B6A;
    --brand-400: #ABBBC2; --brand-300: #FFFFFF; --accent: #6C5ECF; --accent-hover: #584BAF;
    --text-color: var(--brand-300); --text-muted-color: var(--brand-400); --panel-bg: var(--brand-800);
    --input-bg: var(--brand-900); --border-color: var(--brand-700); --shadow: 0 4px 15px rgba(0,0,0,0.2);
    --status-red: #FF7CA3; --status-orange: #FFB572; --status-green: #50D1AA;
    --summary-item-bg: rgba(31, 29, 43, 0.6); --summary-total-text: #ffffff; --workload-bar-inner-text: white;
}
body.light-theme {
    --brand-900: #F9FAFB; --brand-800: #FFFFFF; --brand-700: #E5E7EB; --brand-600: #F3F4F6;
    --brand-400: #6B7280; --brand-300: #1F2937;
    --text-color: var(--brand-300); --text-muted-color: var(--brand-400); --panel-bg: var(--brand-800);
    --input-bg: var(--brand-900); --border-color: var(--brand-700); --shadow: 0 4px 15px rgba(0,0,0,0.1);
    --summary-item-bg: #E5E7EB; --summary-total-text: var(--brand-900); --workload-bar-inner-text: var(--brand-900);
}

body {
    font-family: 'Poppins', sans-serif;
    transition: background-color 0.3s, color 0.3s;
}

/* Custom Loader */
.loader {
    border-top-color: var(--accent);
    -webkit-animation: spinner 1.5s linear infinite;
    animation: spinner 1.5s linear infinite;
}

@-webkit-keyframes spinner {
    0% { -webkit-transform: rotate(0deg); }
    100% { -webkit-transform: rotate(360deg); }
}

@keyframes spinner {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Custom Table Styles */
#tech-data-table th, #tech-data-table td {
    padding: 12px 16px;
    text-align: left;
    white-space: nowrap;
}

#tech-data-table th {
    cursor: pointer;
    position: relative;
    font-weight: 600;
    color: var(--text-color);
}

#tech-data-table th:hover {
    background-color: var(--brand-700);
}

#tech-data-table tbody tr:hover {
    background-color: var(--brand-700);
    transition: background-color 0.2s;
}

.sortable-header.asc::after {
    content: ' ▲';
    font-size: 0.8em;
    color: var(--accent);
}

.sortable-header.desc::after {
    content: ' ▼';
    font-size: 0.8em;
    color: var(--accent);
}

/* Input Overrides */
input[type="text"], select, textarea {
    background-color: var(--input-bg) !important;
    border-color: var(--border-color) !important;
    color: var(--text-color) !important;
}

input[type="text"]:focus, select:focus, textarea:focus {
    outline: 2px solid var(--accent) !important;
    border-color: var(--accent) !important;
    box-shadow: 0 0 0 1px var(--accent) !important;
}

/* Notification Styles */
.notification {
    background-color: var(--panel-bg);
    border-radius: 8px;
    padding: 1rem;
    box-shadow: var(--shadow);
    margin-top: 0.5rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    transition: all 0.5s ease;
    border: 1px solid var(--border-color);
}

.notification.error {
    border-left: 5px solid var(--status-red);
}

.notification.success {
    border-left: 5px solid var(--status-green);
}

.notification-message {
    color: var(--text-color);
    font-size: 0.95rem;
}

.notification-close {
    background: none;
    border: none;
    color: var(--text-muted-color);
    cursor: pointer;
    margin-left: 1rem;
}

/* Custom Summary Styles */
#summary-section > div {
    /* Use variables defined in Tailwind config for consistency */
    background-color: var(--panel-bg);
    border: 1px solid var(--border-color);
    box-shadow: var(--shadow);
}

#total-bonus-value {
    color: var(--status-green);
}

/* Workload Distribution */
.workload-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.5rem 0;
    border-bottom: 1px dashed var(--border-color);
}

.workload-item:last-child {
    border-bottom: none;
}

.workload-bar-container {
    height: 1.5rem;
    background-color: var(--brand-700);
    border-radius: 9999px;
    margin-top: 0.25rem;
}

.workload-bar {
    height: 100%;
    background-color: var(--accent);
    border-radius: 9999px;
    transition: width 0.5s ease-out;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--workload-bar-inner-text);
    font-weight: 600;
    font-size: 0.75rem;
}

/* Chatbot Styles */
#chatbot-bubble {
    background-color: var(--accent);
    transition: transform 0.2s;
}
#chatbot-bubble:hover {
    transform: scale(1.05);
}

#chatbot-window {
    background-color: var(--panel-bg);
    box-shadow: 0 10px 20px rgba(0,0,0,0.5);
    border-color: var(--border-color);
    z-index: 1000;
}

#chatbot-window > div:first-child { /* Header */
    background-color: var(--accent);
}

.chatbot-message {
    display: flex;
}
.chatbot-message.user {
    justify-content: flex-end;
}
.chatbot-message.bot {
    justify-content: flex-start;
}

.chatbot-message.user .message-bubble {
    background-color: var(--accent);
    color: white;
}

.chatbot-message.bot .message-bubble {
    background-color: var(--brand-700);
    color: var(--text-color);
}

.suggestions-container {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-top: 0.5rem;
}
.suggestion-btn {
    background-color: var(--input-bg);
    border: 1px solid var(--border-color);
    color: var(--text-muted-color);
    transition: background-color 0.2s, border-color 0.2s, color 0.2s;
    cursor: pointer;
}
.suggestion-btn:hover {
    background-color: var(--brand-700);
    border-color: var(--accent);
    color: var(--text-color);
}

/* Suggestions container in bot message */
.chatbot-message.bot .message-bubble .suggestions-container {
    border-top: 1px solid var(--border-color);
    margin-top: 1rem;
    padding-top: 0.75rem;
}
/* Chatbot Light Theme Overrides */
body.light-theme #chatbot-window {
    background-color: var(--panel-bg);
    border-color: var(--border-color);
    box-shadow: var(--shadow);
}

body.light-theme #chatbot-window > div:first-child { /* Header */
    background-color: var(--brand-600);
    color: var(--text-color);
    border-bottom: 1px solid var(--border-color);
}

body.light-theme #chatbot-window > div:last-child { /* Input Area */
    border-top-color: var(--border-color);
}

body.light-theme .chatbot-message.bot .message-bubble {
    background-color: var(--brand-600);
    color: var(--text-color);
}

body.light-theme .suggestion-btn {
    background-color: var(--input-bg);
    border-color: var(--border-color);
    color: var(--text-color);
}

body.light-theme .suggestion-btn:hover {
    background-color: var(--brand-600);
    border-color: var(--accent);
}

/* Update Online Button Style */
#update-online-btn {
    background-color: var(--status-green);
    border-color: transparent;
    color: white;
}

#update-online-btn:hover {
     opacity: 0.9;
}
